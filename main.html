<!DOCTYPE html>
<html lang="en">
<head>
    <!-- bootstrap css -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <title>FOOD HUNTER</title>
   
    <link rel="stylesheet" href="main.css">
</head>
<body style="background-image: url(food.jpg);">
    <nav id="container" class="navbar navbar-expand-lg navbar-light navbar-toggler align-items-center justify-content-around">
        <div class="container-fluid">
          <a style="color: rgb(5, 5, 5);" class="navbar-brand" href="#"> Home</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a style="color: rgb(3, 3, 3);" class="nav-link active" aria-current="About" href="#">Products</a>
              </li>
              <li class="nav-item">
                <a style="color: rgb(0, 0, 0);" class="nav-link" href="#">Menu</a>
              </li>
              <li class="nav-item">
                <a style="color: rgb(0, 0, 0);" class="nav-link" href="#">Blogs</a>
              </li>
              
            </ul>
          </div>
        </div>
      </nav>

    <div class="container">
        <section class="text-center mt-5"> 
        <form class="col-md-6 m-auto py-5">
            <div class="input-group mb-3">
                <input type="text" id="food-name" class="form-control" placeholder="Enter a Food Name ...">
                <div >
                    <button type="button" class="btn btn-danger" id="searchbtn">Search</button>
                </div>
            </div>
        </form>
    </section>
    <div class="item-details">

    </div>

    <div id="search-result">
        

        </div>

        
    </div>
   
 <!-- <script src="main.js"> </script>  -->

 <script>

// document.getElementById("search-btn").addEventListener("click", function(){

//     console.log("search clicked");
    
    
// })




const searchbtn = document.getElementById('searchbtn');
const term = searchbtn.value ;
searchbtn.addEventListener('click', function () {

    

    const apiKey = '1';
    
    //const apiBase = `https://www.themealdb.com/api/json/v1/1/search.php?s=${term}`;
    
    fetch(`https://www.themealdb.com/api/json/v1/1/search.php?s=${term}`)
           .then(response => response.json())
           .then(data =>  displayMeals(data.meals));
        });
    
           const displayMeals = meals  =>{
                               //countries
               const item = document.getElementById('search-result');
                     //countriesDiv
               for (let i = 0 ; i < meals.length ; i ++){
                                   //countries.length

                 const meal = meals[i];
                    //country  countries
                 const items = document.createElement('div');
         //mealDiv    //countryDiv
                     items.className ='item-Name';

                        const itemsInfo =`
                        <img onclick="displayItemIngredient('${meal.idMeal}')"  class="item-img" src="${meal.strMealThumb}">
                        <h3 class=items-name > ${meal.strMeal} </h3>
                        <button type="button" class="btn btn-danger" id="searchbtn"> More info</button> 
                        `
                        items.innerHTML = itemsInfo ;
             //mealDiv    //countryDiv
                        item.appendChild(items);
                  //countriesDiv    //countryDiv

                        
              
           }
             
        }
        const displayItemIngredient = idMeal =>{
    const url = `https://www.themealdb.com/api/json/v1/1/lookup.php?i=${idMeal}`
        fetch(url)
        .then(res => res.json())
        .then(data => renderMealInfo(data.meal[0]));
}
const renderInfo = meal => {
    const items = document.getElementById('item-details')
    items.innerHTML =`
    <img  class="Ingredient-img" src ="${meal.strMealThumb}">
    <h2>${meal.strMeal}</h2>
    <h3>Ingredient</h3>
    <p>1- ${meal.strIngredient1} ${meal.strMeasure1}</p>
    <p>2-  ${meal.strIngredient2} ${meal.strMeasure2}</p>
    <p>3-  ${meal.strIngredient3} ${meal.strMeasure3}</p>
    <p>4-  ${meal.strIngredient4} ${meal.strMeasure4}</p>
    <p>5- ${meal.strIngredient5} ${meal.strMeasure5}</p>
    <p>6-  ${meal.strIngredient6} ${meal.strMeasure6}</p>

    `
}



 </script>
   
</body>
</html>